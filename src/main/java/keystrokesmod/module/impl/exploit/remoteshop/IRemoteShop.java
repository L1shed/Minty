package keystrokesmod.module.impl.exploit.remoteshop;

import keystrokesmod.module.impl.client.Notifications;
import keystrokesmod.module.impl.exploit.RemoteShop;
import keystrokesmod.module.setting.impl.SubMode;
import net.minecraft.client.gui.inventory.GuiChest;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

public abstract class IRemoteShop extends SubMode<RemoteShop> {
    protected @Nullable GuiChest cacheShop = null;

    public IRemoteShop(String name, @NotNull RemoteShop parent) {
        super(name, parent);
    }

    public void openContainer() {
        if (mc.currentScreen instanceof GuiChest) {
            cacheShop = (GuiChest) mc.currentScreen;
        } else {
            cacheShop = null;
        }
    }

    public void remoteShop() {
        if (cacheShop == null) {
            Notifications.sendNotification(Notifications.NotificationTypes.INFO, "No valid shop cached.");
            return;
        }

        mc.displayGuiScreen(cacheShop);
    }

    public void forceClose() {
        cacheShop = null;
    }
}
